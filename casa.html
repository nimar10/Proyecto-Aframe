
<!doctype html>
 <html>
     <head>
         <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
        <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@^4.0.0/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/super-hands@2.1.0/dist/super-hands.min.js"></script>
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.13.1/dist/aframe-extras.min.js"></script>
        <script>        
            AFRAME.registerComponent('play', {
			init: function () {
				var myEl = document.querySelector('#eructo');
				this.el.addEventListener('click', function () {
					myEl.components.sound.playSound();
				});
			}
		});
         </script>
    </head>
    <body>
       <a-scene physics="gravity: -9.8; restitution: 0.7">
           <a-assets>
                <audio id="audio-1" src="audio/shrekmejor.mp3" preload="auto"></audio>       	
               <!--Personajes-->
                <a-asset-item id="bichowapo" src="PersonajesSimpaticos/scary_creature/scene.gltf"></a-asset-item>  
                <a-asset-item id="person" src="PersonajesSimpaticos/person/scene.gltf"></a-asset-item>  
                <a-asset-item id="monstruo" src="PersonajesSimpaticos/the_deadly_spawn_animation/scene.gltf"></a-asset-item>
                <a-asset-item id="shrek" src="PersonajesSimpaticos/shrek_dancing/scene.gltf"></a-asset-item>
               <!--Escenario-->
                <img id="sky" src="Background/cielo.jpg">
                <a-asset-item id="casa" src="Casa/scene.gltf"></a-asset-item>  
            </a-assets>
           <!--Camara-->
           <a-entity position="20 6 0">
			<a-camera>
				<a-cursor></a-cursor>
			</a-camera>
           </a-entity>

           <!--Traer escenario-->
           <a-sky src="#sky"></a-sky>
           <a-entity gltf-model="#casa" static-body></a-entity>
           
           <!-- Monstruo acechador -->
           <a-entity gltf-model="#bichowapo" position="28 4.5 -9"
                     animation="property: opacity;
                           from: 1;
                           to: 0;
                           loop: true;
                           dir: alternate;
                           dur: 1500">
           </a-entity>
           
           <a-box position="35.5 6 -23" rotation="0 45 0" color="#4CC3D9" dynamic-body="linearDamping: 0.05; mass: 1"></a-box>
           
           <!-- Shrek bailarin -->
            <a-entity id="eructo" gltf-model="#shrek"
                      sound="src: #audio-1; volume: 2"
                      animation="property: rotation;
                          to: 0 360 0;
                          loop: true;
                          dur: 2000;
                          easing: linear"
                      animation__2="property: position;
                          from: 35.5 4.5 -23;
                          to: 35 4.5 -10;
                          loop: true;
                          dir: alternate;
                          dur: 5000;">
                 <a-entity>
			         <!-- Play-->
			         <a-sphere color="#00AA00" radius="0.25" position="0 1.5 0" play></a-sphere> 
                 </a-entity>          
           </a-entity>
           
          <!-- Texto de bienvenida -->
		  <a-entity position="22 7.5 -7.9" scale="12 12 12"
				  text="value: La Mansion Playboy;
				  		color: #212121;
				  		align: center;
				  		wrapCount: 20;
				  		width: 1;
				  		font: https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/cabin/Cabin-Medium.json;
				  		shader: msdf"
				  geometry="primitive: plane; width: auto; height: auto"
				  material="color: #DDDDDD; shader: flat; visible: false"
				  event-set__enter="_event: mouseenter;
									animation.property: text.color;
									animation.from: #212121;
									animation.to: #FF0000;
									animation.dur: 300"
				  event-set__leave="_event: mouseleave;
									animation.property: text.color;
									animation.from: #FF0000;
									animation.to: #212121;
									animation.dur: 300">
		  </a-entity>
          
           
        </a-scene>
    </body>
</html>
