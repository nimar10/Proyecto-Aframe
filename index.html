
<!doctype html>
 <html>
     <head>
        <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
        <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>
<!--           <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>-->
    <script>
		AFRAME.registerComponent('play', {
			init: function () {
				var myEl = document.querySelector('#shrek');
				this.el.addEventListener('click', function () {
					myEl.components.sound.playSound();
				});
			}
		});
		AFRAME.registerComponent('stop', {
			init: function () {
				var myEl = document.querySelector('#shrek');
				this.el.addEventListener('click', function () {
					myEl.components.sound.stopSound();
				});
			}
		});
	</script>
    </head>
    <body>
        
       <a-scene>
                <a-assets>
                <audio id="audio1" src="audio/shrek.mp3" preload="auto"></audio>        	      
                </a-assets>
           <!--Camara-->
           <a-entity  movement-controls="fly: true; speed: 0.3">
               <a-entity camera position="20 6 0" look-controls wasd-controls><a-cursor></a-cursor></a-entity>
           </a-entity>
           
           <!--Escenario-->
           <img id="sky" src="Background/cielo.jpg">
           <a-asset-item id="casa" src="Casa/scene.gltf"></a-asset-item>  
           
           <!--Personajes-->
           <a-asset-item id="bichowapo" src="PersonajesSimpaticos/scary_creature/scene.gltf"></a-asset-item>  
           <a-asset-item id="person" src="PersonajesSimpaticos/person/scene.gltf"></a-asset-item>  
           <a-asset-item id="monstruo" src="PersonajesSimpaticos/the_deadly_spawn_animation/scene.gltf"></a-asset-item>
           <a-asset-item id="shrek" src="PersonajesSimpaticos/shrek_dancing/scene.gltf"></a-asset-item>
                         s

           <!--Traer escenario-->
            <a-sky src="#sky"></a-sky>
            <a-entity gltf-model="#casa"></a-entity>
           
           
           <!--Bicho ventana-->
           <a-entity gltf-model="#bichowapo" position="28 4.5 -9" animation-mixer="clip: Idle"> </a-entity>
           
           
           <!--Hombres con traje-->
           <a-entity rotation="-10 -80 0" gltf-model="#person" position="26.5 5.5 -16">
               <a-animation attribute="position"
                    dur="10000"
                    fill="forwards"
                    to="23 6.5 -15.5"
                    repeat="indefinite">
                </a-animation> 
               <a-animation attribute="rotation"
                     dur="10000"
                     fill="forwards"
                     to="0 90 0"
                     repeat="indefinite">
               </a-animation>
           </a-entity>
           <a-entity rotation="-10 -60 0" gltf-model="#person" position="26 5.5 -19">
                <a-animation attribute="position"
                    dur="10000"
                    fill="forwards"
                    to="23 6.5 -15.5"
                    repeat="indefinite">
                </a-animation> 
               <a-animation attribute="rotation"
                     dur="10000"
                     fill="forwards"
                     to="0 90 0"
                     repeat="indefinite">
               </a-animation>
           </a-entity>
           <a-entity rotation="-10 -110 0" gltf-model="#person" position="26 5.5 -13" >
                <a-animation attribute="position"
                    dur="10000"
                    fill="forwards"
                    to="23 6.5 -15.5"
                    repeat="indefinite">
                </a-animation> 
               <a-animation attribute="rotation"
                     dur="10000"
                     fill="forwards"
                     to="0 90 0"
                     repeat="indefinite">
               </a-animation>
           </a-entity>
           
           <!--Monstruo fusionado-->
           <a-entity rotation="-10 90 0" gltf-model="#monstruo" position="23 4 -16" scale="0.5 0.5 0.5" visible="false">
           </a-entity>
           
           <!-- Shrek bailarin -->
           
            <a-entity  sound="src: #audio1" gltf-model="#shrek" position="35.5 4.5 -23"sound="src: #audio1; autoplay: true; loop: true; positional: false" play>
>
                <a-animation attribute="rotation"
               dur="1000"
               fill="forwards"
               to="0 360 0"
               repeat="indefinite"
                             
                             />
                
                  
                  
                    </a-entity>
            
<!--
                    animation__2="property:position;
                    dur:20000;
                      delay:21000;
                    fill:forwards;
                    to:35.5 4.5 -23"
-->
<!--
                      animation__3="property:rotation;
                      dur:1000;
                      delay:20000;
                      to:0 360 0"
-->
                    >
                 
              
               
          
           
           
           
        </a-scene>
    </body>
</html>
